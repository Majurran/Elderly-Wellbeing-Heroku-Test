
<head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
   <script src="{{ url_for('static', filename='js/public-dashboard.js') }}"></script>
   <!-- CSS -->
   <link rel="stylesheet" href="{{ url_for('static', filename='css/public-dashboard.css') }}">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css"/>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/>
   <link rel="stylesheet" href="https://demos.creative-tim.com/paper-dashboard/assets/css/bootstrap.min.css"/>
   <link rel="stylesheet" href="https://demos.creative-tim.com/paper-dashboard/assets/css/paper-dashboard.min.css?v=2.0.1"/>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.js"></script>
</head>
{% block content %}
<nav class="navbar navbar-expand-lg "
style="background-color: rgb(47, 44, 43);
       color: #ffffff;">
<div id="navbar">
   <div class="navbar-brand" >
      <img src="{{ url_for('static', filename='img/ABSLogo.png') }}" alt="ABS Logo"
           >
  </div>
<div class="navbar-nav" style="width: 98vw;justify-content:space-between;">
   <div class="d-flex flex-nav" style="line-height: 45px;margin-right:65px;">
   </div>
 
</div>
</div>
</nav>
<body style="background-color:f4f3ef;">
   <div id="myCarousel" class="carousel slide">
   <!-- Items -->
   <div class="carousel-inner">
      <!-- Item 1 -->
      <div class="item active">
         <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6">
               <div class="card card-stats">
                  <div class="card-body ">
                     <div class="row">
                        <div class="col-5 col-md-4">
                           <div class="icon-big text-center icon-warning">
                              <i class="nc-icon nc-globe text-warning"></i>
                           </div>
                        </div>
                        <div class="col-7 col-md-8">
                           <div class="numbers">
                              <p class="card-category">Number of Residents on Website</p>
                              <p class="card-title">{{num_residents}}</p>
                              <p></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="card-footer ">
                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
               <div class="card card-stats">
                  <div class="card-body ">
                     <div class="row">
                        <div class="col-5 col-md-4">
                           <div class="icon-big text-center icon-warning">
                              <i class="nc-icon nc-money-coins text-success"></i>
                           </div>
                        </div>
                        <div class="col-7 col-md-8">
                           <div class="numbers">
                              <p class="card-category">Number of Nursing homes Registered</p>
                              <p class="card-title">{{num_nursing_home}}</p>
                              <p></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="card-footer ">
                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-md-8">
               <div class="card">
                  <div class="card-header ">
                     <h5 class="card-title">Mood statistics</h5>
                     <p class="card-category">Mood visualisation</p>
                  </div>
                  <div class="card-body">
                     <span id="Mood-Graph" class="Mood-Graph" style="display: flex;"> <span id="Detailed-Mood-Graph" class="Detailed-Mood-Graph"></span></span>
                  </div>
                  <div class="card-footer ">

                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-md-4">
               <div class="card card-chart" style="height: 600px;">
                  <div class="card-header">
                     <h5 class="card-title">Activities Responses</h5>
                     <p class="card-category">bar chart representation</p>
                  </div>
                  <div class="card-body">
                     <div style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;" class="chartjs-size-monitor">
                        <div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                           <div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div>
                        </div>
                        <div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                           <div style="position:absolute;width:200%;height:200%;left:0; top:0"></div>
                        </div>
                     </div>
                     <div id="Activities-Graph" class="Activities-Graph"></div>
                  </div>
                  <div class="card-footer">

                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- Item 2 -->
      <div class="item">
         <div class="row">
            <div class="col-md-6">
               <div class="card ">
                  <div class="card-header ">
                     <h5 class="card-title">Elderly Mobility</h5>
                     <p class="card-category">Average Response of residents when asked how difficult it is to move </p>
                  </div>
                  <div class="card-body ">
                     <div id="Line-Graph-One" class="Line-Graph-One"></div>
                     <!-- Plot 1-->
                  </div>
                  <div class="card-footer ">

                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-md-6">
               <div class="card ">
                  <div class="card-header ">
                     <h5 class="card-title">Elderly Experience with Food Quality</h5>
                     <p class="card-category">Average Response of residents when asked about the quality of food they receive</p>
                  </div>
                  <div class="card-body ">
                     <div id="Line-Graph-Two" class="Line-Graph-Two">
                        <!-- Plot 2-->
                     </div>

                  </div>
                  <div class="card-footer ">

                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="row">
            <div class="col-md-6">
               <div class="card ">
                  <div class="card-header ">
                     <h5 class="card-title">Elderly Experience with Medication Side Effects</h5>
                     <p class="card-category">Proportion of residents who suffer from adverse reactions to medication.</p>
                  </div>
                  <div class="card-body ">
                     <div id="Line-Graph-Three" class="Line-Graph-Three">
                        <!-- Plot 3-->
                     </div>

                  </div>
                  <div class="card-footer ">

                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>
            <div class="col-md-6">
               <div class="card ">
                  <div class="card-header ">
                     <h5 class="card-title">Elderly Experience with Aches/Pains</h5>
                     <p class="card-category">Proportion of residents who suffer from Aches/Pains Regularly</p>
                  </div>
                  <div class="card-body ">
                     <div id="Line-Graph-Four" class="Line-Graph-Four">
                        <!-- Plot 4-->
                     </div>

                  </div>
                  <div class="card-footer ">

                     <hr>
                     <div class="stats" style="color: #66615b;">
                        <i class="fa fa-calendar" style="color: #66615b;"></i> Last Updated: {{reload_time}}
                     </div>
                  </div>
               </div>
            </div>       
         </div>
      </div>
         <!-- Item 3 -->
            <div class="item">
                        <div class="col-md-8 third">
                           <div class="card" style="height: 600px;">
                              <div class="card-header ">
                                 <h5 class="card-title">Message Board</h5>
                                 <p class="card-category">Experiences Shared by Nursing home</p>
                              </div>
                              <div id="myDiv" class="card-body" style="overflow:hidden">
                                 <div class="project-container">
                                    <div id="messages" class="content" style="background-color: white;">
                                       {% for sentence in sentences %}
                                       <div class="project">
                                             <div>
                                                Message <br />
                                                {{ sentence }}
                                             </div>
                                          <div>
                                          </div>
                                       </div>
                                       {% endfor %}
                                    </div>

                                    </div>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-3 third">
                           <div class="card ">
                              <div class="card-header ">
                                 <h5 class="card-title">State Representation</h5>
                                 <p class="card-category">Location of Residents who responded.</p>
                              </div>
                              <div class="card-body ">
                                 <div class="population_container">
                                    <div id="Population-Pie-Chart" class="Population-Pie-Chart">
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>

                     </div>
               </div>
            </div>
   </div>
</body>
<!-- Controls -->
<a class="left carousel-control" href="#myCarousel" data-slide="prev" style="width: 90px;">
<span class="icon-prev"></span>
</a>
<a class="right carousel-control" href="#myCarousel" data-slide="next" style="width: 90px;">
<span class="icon-next"></span>
</a>  
<div id="carouselButtons" style="left: 42%;position: relative;">
<button id="playButton" type="button" class="btn btn-default btn-xs">
<span class="glyphicon glyphicon-play"></span>
</button>
<button id="pauseButton" type="button" class="btn btn-default btn-xs">
<span class="glyphicon glyphicon-pause"></span>
</button>
</div>
</div>
</div>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script type="text/javascript">
   var graphs = {{ graph_activities | safe }};
   Plotly.plot('Activities-Graph', graphs, {});
   
   var mood = {{ mood_ratio | safe }};
   Plotly.plot('Mood-Graph', mood, {});
   
   var detailed_mood = {{ detailed_mood_ratio | safe }};
   Plotly.plot('Detailed-Mood-Graph', detailed_mood, {});

   var state_pie = {{ state_pie_chart | safe }};
   Plotly.plot('Population-Pie-Chart', state_pie, {});
   
   var line_one = {{ line_graph_one | safe }};
   Plotly.plot('Line-Graph-One', line_one, {});
   
   var line_two = {{ line_graph_two | safe }};
   Plotly.plot('Line-Graph-Two', line_two, {});
   
   var line_three = {{ line_graph_three | safe }};
   Plotly.plot('Line-Graph-Three', line_three, {});
   
   var line_four = {{ line_graph_four | safe }};
   Plotly.plot('Line-Graph-Four', line_four, {});

</script>
{% endblock %}